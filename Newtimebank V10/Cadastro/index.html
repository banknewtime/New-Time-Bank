<!DOCTYPE html>
<html lang="pt">

<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - New Time Bank</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, black 50%, rgb(0, 0, 0) 50%);
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .login-container :before {
            background-color: rgb(0, 0, 0);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.0);
            width: 300px;
            text-align: center;
            background: rgba(255, 255, 255, 0.5);
        }

        .logo {
            text-align: center;
            margin-bottom: 20px;
        }

        .logo img {
            max-width: 100px;
        }

        .cadastro-name {
            color: white;
            font-size: 24px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <div class="cadastro"></div>

    <div class="login-container">
        <div style="position: relative; display: inline-block;">
            <!-- Foto inteira -->
            <img src="../img/cadastrocerto.png" alt="menu"
                style="pointer-events: none; -webkit-user-drag: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; display: block; margin: 0 auto;">

            <!-- Botão transparente para o link no topo da página -->
            <button
            class="login-button" type="button" onclick="cadastrarUsuario()"
            style="position: absolute; top: 558px; left: 0; width: 100%; height: 40px; background: transparent; border: none;"></button>

            <form id="register-form">
                <!-- Seus campos de formulário aqui -->
                <div>
                    <input type="text" name="name" id="name" placeholder="Nome completo"
                        style="position: absolute; top: 185px; left: 30px; right: 40; width: 80%; height: 40px; background: transparent; border: none;"
                        required>
                </div>

                <div>
                    <input type="text" name="CPF" id="CPF" placeholder="CPF"
                        style="position: absolute; top: 247px; left: 30px; right: 37; width: 80%; height: 40px; background: transparent; border: none;"
                        required>
                </div>

                <div>
                    <input type="text" name="dataNasc" id="dataNasc" placeholder="Data de Nascimento"
                        style="position: absolute; top: 310px; left: 30px; right: 20%; width: 80%; height: 40px; background: transparent; border: none;"
                        required>
                </div>

                <div>
                    <input type="email" name="email" id="email" placeholder="Endereço de E-mail"
                        style="position: absolute; top: 370px; left: 30px; right: 20; width: 80%; height: 40px; background: transparent; border: none;"
                        required>
                </div>

                <div class="escolheConta"
                    style="position: absolute; top: 443px; left: 35px; right: 20; width: 100%; height: 40px; background: transparent; border: none;">
                    <label for="tipoConta" style="color: rgb(124, 124, 124);">Escolha o tipo conta:</label>
                    <select name="tipoConta" id="tipoConta" style="background: transparent; border: none;" required>
                        <option value=""></option>
                        <option value="1">Corrente</option>
                        <option value="2">Poupança</option>
                    </select>
                </div>

                <div class="ocultador"
                    style="position: absolute; top: 490px; left: 25px; right: 20; width: 100%; height: 40px; background: transparent; border: none; ">
                    <input type="password" name="password" id="password" placeholder="Senha"
                        style="width: 81%; height: 25px; border-radius: 8px;" required>
                </div>

                <div class="ocultador"
                    style="position: absolute; top: 518px; left: 25px; right: 20; width: 100%; height: 40px; background: transparent; border: none;">
                    <input type="password" name="confirm-password" id="confirm-password" placeholder="Confirmar senha"
                        style="width: 81%; height: 25px; border-radius: 8px;" required>
                </div>

                
            </form>

            <button
                style="position: absolute; top: 615px; left: 0; width: 100%; height: 40px; background: transparent; border: none;"
                onclick="window.location.href='../Index.html'">
            </button>
        </div>
    </div>

    <script>
        function cadastrarUsuario() {
            const formData = {
                name: $('#name').val(),
                CPF: $('#CPF').val(),
                dataNasc: $('#dataNasc').val(),
                email: $('#email').val(),
                tipoConta: $('#tipoConta').val(),
                password: $('#password').val(),
            };
    
            $.ajax({
                type: 'POST',
                url: 'http://localhost:8000/cadastro',
                data: JSON.stringify(formData),
                contentType: 'application/json',
                success: function (response) {
                    if (response.success) {
                        alert('Cadastro realizado com sucesso!');
                    } else {
                        alert('Erro ao cadastrar usuário. Verifique o console para mais detalhes.');
                    }
                },
                error: function (error) {
                    alert('Erro ao cadastrar usuário. Verifique o console para mais detalhes.');
                    console.error(error);
                }
            });
            
                  }

    </script>
    
</body>

</html>
